#!/usr/bin/env sh
# Add common pnpm installation paths to PATH
if [ -n "$APPDATA" ]; then
  # Windows
  export PATH="$APPDATA/npm:$APPDATA/pnpm:$PATH"
elif [ -n "$HOME" ]; then
  # Unix-like systems
  export PATH="$HOME/.local/share/pnpm:$HOME/.npm-global/bin:$PATH"
fi

# Try to use pnpm, fallback to npx if pnpm is not found
if command -v pnpm >/dev/null 2>&1; then
  pnpm exec lint-staged
else
  npx lint-staged
fi
